% sta UML — Quentin Ribac © 2017
% This is free software, see LICENSE file for details.
\documentclass[a4paper, 11pt]{article}
\usepackage{jipkg}
\usepackage{tikz-uml}
\usepackage{pdflscape}

\jihypersetup{sta UML}{Quentin Ribac}
\title{sta UML}
\author{Quentin \textsc{Ribac}}
\date{\today}

\begin{document}
\selectlanguage{english}
\maketitle
\section*{Introduction}
This document is meant to present the different UML diagrams which will be made in the process of designing \emph{sta}.

UML diagrams in this document are set in \LaTeX{} using the \texttt{tikz-uml} package made by Nicolas \textsc{Kielbasiewicz}. See \url{http://ensta-paristech.fr/~kielbasi/tikz-uml} for more information this package. I am also using my own package \texttt{jipkg} for usual inclusions. See it on GitHub at \url{https://github.com/ribacq/jiltx}.

\begin{landscape}
\section{Class Diagram for the \texttt{server} package}
\begin{figure}[h]\label{pkg: server}\center{
\begin{tikzpicture}
	\begin{umlpackage}[x = 0, y = 0]{server}
		% Classes
		\umlclass[x = 12, y = 0]{Thing}{
			+ name string\\
			+ description string\\
			+ contentsMax const int\\
			+ contents []Item\\
			+ tags []string\\
			+ commands map[string]func(args ...string)
		}{
			+ look() string\\
			+ deposit(Item)\\
			+ retrieve() Item\\
			+ call(string) string
		}
		\umlclass[x = -2, y = -6]{Game}{
			+ in : io.Reader\\
			+ out : io.Writer
		}{
			%
		}
		\umlclass[x = 6, y = -6]{Character}{
			+ hp int\\
			+ hpMax int
		}{
			+ sayHi() : string
		}
		\umlclass[x = 12, y = -6]{Room}{
			%
		}{
			%
		}
		\umlclass[x = 18, y = -6]{Item}{
			%
		}{
			%
		}
		\umlclass[x = 0, y = 0]{Event}{
			%
		}{
			%
		}

		% Relations
		\umlVHVinherit{Character}{Thing} % Character is a Thing
		\umlinherit{Room}{Thing} % Room is a Thing
		\umlVHVinherit[anchor1 = 120]{Item}{Thing} % Item is a Thing

		\umluniassoc[mult1 = 0..1, mult2 = 1, stereo = controls]{Game}{Character} % Game controls Character
		\umluniassoc[mult1 = *, mult2 = 0..1, stereo = links to]{Item}{Room} % Item link to Room
		\umluniassoc[mult1 = *, mult2 = 1, stereo = is in]{Character}{Room} % Character is in Room
		\umlVHuniassoc[mult1 = *, mult2 = 1, stereo = is in, anchor1 = 60]{Item}{Thing} % Item is in Thing

		\umluniassoc[mult1 = *, mult2 = 1, anchors =  25 and  155, stereo = is triggered by]{Event}{Thing} % Event is triggered by Thing
		\umluniassoc[mult1 = *, mult2 = 1, anchors = -25 and -155, stereo = calls command on]{Event}{Thing} % Event calls command on Thing
	\end{umlpackage}
\end{tikzpicture}
\caption{Package: \texttt{server}}
}\end{figure}
\end{landscape}

\end{document}

